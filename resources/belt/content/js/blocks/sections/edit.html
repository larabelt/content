<div>
    <form  @submit.prevent="active.submit()" @keydown="active.errors.clear($event.target.name)">
        <div class="row">
            <div class="col-md-4">
                <div class="form-group" :class="{ 'has-error': active.error('sectionable_id') }">
                    <div class="input-group">
                        <input
                                type="text"
                                class="form-control"
                                v-model="table.query.q"
                                placeholder="Search"
                                @keydown="table.index()"
                        >
                        <span class="input-group-addon"><i class="fa fa-search"></i></span>
                    </div>
                    <span v-for="error in active.error('sectionable_id')" class="contents-danger">{{ error }}</span>
                </div>
            </div>
            <div class="col-md-8">
                <div class="pull-right">
                    <div class="btn-group">
                        <a
                                title="add block"
                                class="btn btn-sm btn-default"
                                href="/admin/belt/content/blocks/create"
                                target="_blank"
                        >
                            <i class="fa fa-plus"></i>
                        </a>
                        <a v-if="block.id"
                           title="edit block"
                           class="btn btn-sm btn-default"
                           :href="'/admin/belt/content/blocks/edit/' + block.id"
                           target="_blank"
                        >
                            <i class="fa fa-edit"></i>
                        </a>
                    </div>
                </div>
                <template v-if="block.id">
                    <p>{{ block.id }}. {{ block.name }}</p>
                    <template v-if="block.heading">
                        <p><strong>block heading</strong></p>
                        <p>{{ block.heading }}</p>
                    </template>
                    <p><strong>block body</strong></p>
                    <p>{{ block.body }}</p>
                </template>
            </div>
        </div>

        <div v-if="table.items.length">
            <table class="table">
                <tr v-for="block in table.items">
                    <td>{{ block.id }}. <strong>{{ block.name }}:</strong> {{ block.slug }}</td>
                    <td class="text-right">
                        <button class="btn btn-default" @click="update(block.id)"><i class="fa fa-link"></i></button>
                    </td>
                </tr>
            </table>
        </div>

    </form>
</div>